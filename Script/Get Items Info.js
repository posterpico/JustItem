!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f6a6ec6d-16de-48fe-9f03-8b159e9c8a6d",e._sentryDebugIdIdentifier="sentry-dbid-f6a6ec6d-16de-48fe-9f03-8b159e9c8a6d")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"martfe-v1.28.0"},(self.webpackChunk_shopee_martfe_pc_micro_fe=self.webpackChunk_shopee_martfe_pc_micro_fe||[]).push([[25],{3114:(e,t,o)=>{o.d(t,{X6:()=>_,q2:()=>u,Hs:()=>d}),o(1959),o(3988);const n=(0,o(1857).n)("FETCH_MART_DEALS_COLLECTIONS");var l=o(5874),r=o(178),i=o(5362),s=o(3601);const c={progress:i.Z.INIT,collections:[],total:0,error:null,error_msg:null,nextOffset:0,has_more:!1};(0,r.Z)({[n.REQUESTED]:(e,t)=>(0,l.Z)({},e,{progress:i.Z.REQ}),[n.SUCCESS]:(e,t)=>{var o,n,r,c;const{payload:{offset:a,limit:u,response:d}}=t,_=e.collections,p=null!=(o=null==d||null==(n=d.data)?void 0:n.collections)?o:[],m=null!=(r=null==d||null==(c=d.data)?void 0:c.total)?r:0;return(0,l.Z)({},e,{total:m,has_more:m>u+a,progress:i.Z.OK,nextOffset:a+u,collections:(0,s.uV)(_,p,a)})},[n.FAILED]:(e,t)=>{const{payload:{error:o,error_msg:n}}=t;return(0,l.Z)({},e,{progress:i.Z.ERR,error:o,error_msg:n})}},c);let a=function(e){return e[e.ProductCollection=0]="ProductCollection",e[e.ShopCategory=1]="ShopCategory",e}({});const u=e=>e.type===a.ProductCollection,d=e=>e.type===a.ShopCategory,_=(e,t)=>u(e)||!e.shop_category?{collection:e.prod_collection_id,martCollectionId:t}:{shop:e.shop_category.shop_id,shopCollection:e.shop_category.shop_collection_id,martCollectionId:t}},4714:(e,t,o)=>{o.d(t,{XU:()=>a,Qg:()=>u,uN:()=>_,Im:()=>f,qs:()=>d,ir:()=>v,s0:()=>h,c4:()=>w,wE:()=>N,bE:()=>M,lM:()=>b,i5:()=>D,w1:()=>O,VO:()=>g,uL:()=>I});var n=o(2375),l=o(255),r=o(437),i=o(1857);const s=(0,i.n)("FETCH_MART_HORIZONTAL_COLLECTIONS"),c=(0,i.n)("FETCH_MART_HORIZONTAL_COLLECTION"),a="martHomepageCollections",u="martDealpageCollections";let d=function(e){return e[e.Home=1]="Home",e[e.DealsTab=2]="DealsTab",e}({});const _=3,{fetchInfo:p,jsonPost:m}=r.FetchUtils;let f=function(e){return e.TITLE="title",e.BANNER="banner",e}({}),C=function(e){return e.MART_ITEM_CARD="mart_item_card",e.SEE_MORE_CARD="see_more_card",e}({});const E=e=>{var t,o;return`${e.mart_collection_id}-${String(null==(t=e.account)?void 0:t.is_cc_installment_payment_eligible)}-${String(null==(o=e.account)?void 0:o.is_non_cc_installment_payment_eligible)}`};function I(e,t){var o,n,l,r;return{itemid:e.itemid,shopid:e.shopid,location:e.item_location,discount_percentage:e.discount_percentage,has_voucher_label:e.eligible_promotion_labels.some((e=>"VOUCHER"===(null==e?void 0:e.name))),has_deep_discount_labe:e.eligible_promotion_labels.some((e=>"DEEP_DISCOUNT"===(null==e?void 0:e.name))),collection_id:null!=(o=null==t?void 0:t.prod_collection_id)?o:-1,collection_title:null==t?void 0:t.title,in_shop_category_id:null!=(n=null==t||null==(l=t.shop_category)?void 0:l.shop_collection_id)?n:-1,section_location:null!=(r=null==t?void 0:t.section_location)?r:0}}function g(e,t){var o,n,l,r,i;return{itemid:null!=(o=e.itemid)?o:-1,shopid:null!=(n=e.shopid)?n:-1,collection_id:null!=(l=null==t?void 0:t.prod_collection_id)?l:-1,in_shop_category_id:null!=(r=null==t||null==(i=t.shop_category)?void 0:i.shop_collection_id)?r:-1}}const y={offset:0,limit:20,page:d.Home},h=e=>{const{offset:t,limit:o,page:r}=e||y,i=(0,l.Wc)({offset:t,limit:o});return(0,n.Vi)({apiCall:()=>function(e,t){const o=e===d.DealsTab?`/api/v4/pages/mart/deals_tab/get_collections${t||""}`:"/api/v4/mart/home/get_horizontal_collection";return p(o)}(r,i),actions:[()=>({type:s.REQUESTED}),(e,n)=>({type:s.SUCCESS,payload:{response:n,offset:t,limit:o}}),(e,t)=>({type:s.FAILED,payload:{error:t.error,error_msg:null}})]})},v=e=>{const t=E(e);return(0,n.Vi)({apiCall:()=>function(e){return m("api/v4/opcrm/landingpage/get_items_info",e)}(e),actions:[()=>({type:c.REQUESTED,payload:{key:t}}),(e,o)=>({type:c.SUCCESS,payload:{key:t,response:o}}),(e,o)=>({type:c.FAILED,payload:{key:t,error:o.error,error_msg:null}})]})};var R=o(5874),S=o(5362),Z=o(7346),x=o(178);const T={progress:S.Z.INIT,collections:[],error:null,error_msg:null,total:0,nextOffset:0,has_more:!1,collectionsWithItem:{}},O=(0,x.Z)({[s.REQUESTED]:(e,t)=>(0,R.Z)({},e,{progress:S.Z.REQ}),[s.SUCCESS]:(e,t)=>{var o,n,l,r;const{payload:{offset:i,limit:s,response:c}}=t,a=e.collections,u=null!=(o=null==c||null==(n=c.data)?void 0:n.collections)?o:[],d=null!=(l=null==c||null==(r=c.data)?void 0:r.total)?l:0;return(0,R.Z)({},e,{total:d,progress:S.Z.OK,nextOffset:(null!=i?i:0)+(null!=s?s:0),has_more:d>(null!=s?s:0)+(null!=i?i:0),collections:(0,Z.Z)(a,u,null!=i?i:0)})},[s.FAILED]:(e,t)=>{const{payload:{error:o,error_msg:n}}=t;return(0,R.Z)({},e,{progress:S.Z.ERR,error:o,error_msg:n})},[c.REQUESTED]:(e,t)=>{const{payload:{key:o}}=t;return(0,R.Z)({},e,{collectionsWithItem:(0,R.Z)({},e.collectionsWithItem,{[o]:(0,R.Z)({},e.collectionsWithItem[o],{progress:S.Z.REQ})})})},[c.SUCCESS]:(e,t)=>{var o;const{payload:{key:n,response:l}}=t,r=(null==l||null==(o=l.data)?void 0:o.item_list)||[];return l?(0,R.Z)({},e,{collectionsWithItem:(0,R.Z)({},e.collectionsWithItem,{[n]:(0,R.Z)({},e.collectionsWithItem[n],{data:(0,R.Z)({},l.data,{item_list:r.filter((e=>!!e.item_info&&!!e.item_card_displayed_asset)),show_see_more:r.some((e=>(null==e?void 0:e.type)===C.SEE_MORE_CARD))}),progress:S.Z.OK})})}):(0,R.Z)({},e)},[c.FAILED]:(e,t)=>{const{payload:{key:o}}=t;return(0,R.Z)({},e,{collectionsWithItem:(0,R.Z)({},e.collectionsWithItem,{[o]:(0,R.Z)({},e.collectionsWithItem[o],{progress:S.Z.ERR})})})}},T),D=e=>{var t;return null!=(t=null==e?void 0:e.total)?t:0},b=e=>{var t;return null!=(t=null==e?void 0:e.progress)?t:S.Z.INIT},A=[],M=(e,t)=>{var o;const n=null!=(o=null==e?void 0:e.collections)?o:A;return t?n.slice(t.offset,t.offset+t.limit):n},N=(e,t)=>{var o;return null==e||null==(o=e.collectionsWithItem)||null==(o=o[E(t)])?void 0:o.progress},w=(e,t)=>{var o;return null==e||null==(o=e.collectionsWithItem)||null==(o=o[E(t)])?void 0:o.data}},5502:(e,t,o)=>{o.d(t,{createAppContext:()=>l,createInjectReducerContext:()=>r,useMicroApp:()=>f});var n=o(7363);o(1624);const l=()=>{const e=(0,n.createContext)({});return e.displayName="MicroAppContext",e};o(893);const r=()=>{const e=(0,n.createContext)({injectAsyncReducer:()=>{}});return e.displayName="MicroAppInjectReducerContext",e};var i=o(5874),s=o(2827),c=o(6679),a=o(3939);const u={};var d=o(7366),_=o.n(d),p=o(437),m=o(5989);const f=(e,t)=>(0,n.useMemo)((()=>{const o=_().getInitialData(e),n=(0,m.cf)({initialState:(null==o?void 0:o.initialAppQueries)||null});p.I18n.addInitialCollections((null==o?void 0:o.initialCollections)||[]),p.I18n.addInitialTranslation((null==o?void 0:o.initialTranslations)||{});const l=function(e,t){var o;if(u[e])return u[e];const n=null!=(o=window)&&o.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&"live"!==__ENV__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:`Micro App: ${e}`}):s.compose,l=(0,c.K)((0,i.Z)({},t,{enhancer:n((0,s.applyMiddleware)(a.Z))}));return u[e]=l,l}(e,{reducers:t,initialState:(null==o?void 0:o.storeState)||{}});return _().clearInitialData(e),{storeManager:l,queryClient:n}}),[e,t])},7084:(e,t,o)=>{o.d(t,{Am:()=>l,BV:()=>u,Qs:()=>n,VH:()=>r,WI:()=>s,bB:()=>c,eK:()=>i,yX:()=>a});const n=262,l=264,r=266,i=267,s=274,c=281,a=286,u=58},8777:(e,t,o)=>{o.d(t,{ZP:()=>_,Xr:()=>d,lh:()=>a,nR:()=>u});var n=o(7363),l=o(1624),r=o(893);const i=(0,n.createContext)({CustomRedux:l.ReactReduxContext,CustomInject:r.InjectReducerContext});i.displayName="CustomContext";const s=i;var c=o(6094);o(5874);const a=function(){const{CustomInject:e}=(0,n.useContext)(s),{injectAsyncReducer:t}=(0,n.useContext)(e);return t},u=function(...e){const{CustomRedux:t}=(0,n.useContext)(s);return(0,n.useMemo)((()=>(0,l.createSelectorHook)(t)),[t])(...e)},d=function(...e){const{CustomRedux:t}=(0,n.useContext)(s);return(0,n.useMemo)((()=>(0,l.createDispatchHook)(t)),[t])(...e)},_=function(e){const{children:t,customRedux:o,customInject:r,storeManager:i}=e,a=o,u=r,d=(0,n.useMemo)((()=>({CustomRedux:o,CustomInject:r})),[o,r]);return(0,c.jsx)(l.Provider,{store:i.store,context:a,children:(0,c.jsx)(u.Provider,{value:{injectAsyncReducer:i.injectReducer},children:(0,c.jsx)(s.Provider,{value:d,children:t})})})}},3045:(e,t,o)=>{o.d(t,{$:()=>l,S:()=>r});var n=o(5502);const l=(0,n.createAppContext)(),r=(0,n.createInjectReducerContext)()},5559:(e,t,o)=>{e.exports=o.microfeI(6)},6517:(e,t,o)=>{e.exports=o.microfeI(3)},6234:(e,t,o)=>{e.exports=o.microfeI(1)},471:(e,t,o)=>{e.exports=o.microfeI(7)},9044:(e,t,o)=>{e.exports=o.microfeI(10)}}]);
//# sourceMappingURL=https://sourcemap.webfe.shopeemobile.com/pcmall-mart/_/25.51e46d0ef7760be31936.js.map